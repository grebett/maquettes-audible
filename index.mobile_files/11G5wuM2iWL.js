(function(f){var k=window.AmazonUIPageJS||window.P,l=k._namespace||k.attributeErrors,h=l?l("AudibleWebSearchAssets",""):k;h.guardFatal?h.guardFatal(f)(h,window):h.execute(function(){f(h,window)})})(function(f,k,l){var h=function(){function e(a,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,d,c){d&&e(a.prototype,d);c&&e(a,c);return a}}();f.register("InMemorySearch",function(){return function(){function e(a){var d=
this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var c={};Object.keys(a).forEach(function(b){return c[d._cleanQuery(b)]=a[b]});this._data=c;this._cachedResultsByQuery={}}h(e,[{key:"search",value:function(a){var d=this;a=this._cleanQuery(a);var c=this._cachedResultsByQuery[a];if(c)return c;c=this._cachedResultsByQuery[a]=[];Object.keys(this._data).forEach(function(b){-1<b.indexOf(a)&&c.push(d._prepareResult(b))});return c}},{key:"exactSearch",value:function(a){a=
this._cleanQuery(a);return this._prepareResult(a)}},{key:"_cleanQuery",value:function(a){return String(a).toLowerCase().trim()}},{key:"_prepareResult",value:function(a){var d=this._data[a];d&&d.key===l&&(d.key=a);return d||null}}]);return e}()});"use strict";f.when("autocomplete","searchAjax").register("searchUiInit",function(e,a){var d=function(c,b){return a.fetchSuggestions(c.display,b)};return function(a){var b=a.querySelectorAll(".search-autocomplete");a=function(a){a=b[a];var c=e(a,d),g=a.getElementsByClassName("search-advanced-suggestion-link")[0];
if(g)c.on("repositionSuggestions",function(a,b){b.showBelow?b.suggestionsWrapper.appendChild(g):b.suggestionsWrapper.insertBefore(g,b.suggestionsWrapper.childNodes[0])})};for(var g=0;g<b.length;g++)a(g)}});f.when("searchUiInit","ready").register("searchUi",function(e){e(document);return{}});"use strict";f.when("fetch","ready").register("searchAjax",function(){var e=/iPhone|iPad|iPod|Android|Blackberry|Opera Mini|IEMobile/i.test(navigator.userAgent)?"mobile":"desktop",a=function(a,c,b,g,e,f){return document.location.protocol+
"//"+c+"/api/2017/suggestions?"+("prefix\x3d"+encodeURIComponent(a)+"\x26alias\x3d"+g+"\x26client-id\x3d"+e+"\x26plain-mid\x3d"+b+"\x26")+("sc\x3d1\x26site-variant\x3d"+f)};return{fetchSuggestions:function(d,c){d=String(d).toLowerCase().trim();var b=k.autocomplete_config||{};d=a(d,b.domain||"completion.amazon.com",b.market||"91470",b.searchAlias||"marketplace",b.clientID||"audible-mobile%40amazon.com%2F7c7ad99f3af634734ba32ac0b64082231e16974a",e);k.fetch(d,{method:"GET",mode:"cors"}).catch(function(a){c(null);
throw Error("Autocomplete failed");}).then(function(a){return a.json()}).then(function(a){a=a.suggestions.map(function(a){return a.value});c(a)})}}})});
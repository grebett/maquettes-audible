(function(b){var e=window.AmazonUIPageJS||window.P,a=e._namespace||e.attributeErrors,d=a?a("AudibleReviewProductRatingAssets",""):e;d.guardFatal?d.guardFatal(b)(d,window):d.execute(function(){b(d,window)})})(function(b,e,a){b.when("AudiblejQuery","ready").register("setReviewProductRatings",function(d){function b(c,a,l,g,f,m,n,q){setTimeout(function(){var h=d(c).closest(g),k=h.find(m),b=h.find(n),r=h.find(q),t=h.find(a),h=h.find(l);if("0"===k.attr("data-star-count")){var u=d(c).closest(f).attr("data-star-count");
k.attr("data-star-count",u);for(var p=1;p<=u;p++)k.find("[data-index\x3d"+p+"]").find("i").removeClass("bc-icon-star-hollow"),k.find("[data-index\x3d"+p+"]").find("i").removeClass("bc-color-tertiary"),k.find("[data-index\x3d"+p+"]").find("i").addClass("bc-icon-star"),k.find("[data-index\x3d"+p+"]").find("i").addClass("bc-color-progress")}k=k.attr("data-star-count");b=b.attr("data-star-count");r=r.attr("data-star-count");t=t.val();h=e.unescape(h.val());v(t,h,k,b,r)},200)}function v(c,a,b,g,f){c={asin:c,
csrfToken:a};"0"!==b&&(c.overallRating=b);"0"!==g&&(c.performanceRating=g);"0"!==f&&(c.storyRating=f);d.ajax({url:"/setrating",method:"POST",data:c,success:function(){},error:function(){}})}return{setReviewProductRatings:function(c,e,l,g,f,m,n){if(null!==c&&c!==a&&null!==e&&e!==a&&null!==l&&l!==a&&null!==g&&g!==a&&null!==f&&f!==a&&null!==m&&m!==a&&null!==n&&n!==a){var q=f+", "+m+", "+n;d(l).each(function(){d(this).find(q).click(function(a){b.call(this,d(a.target),c,e,l,g,f,m,n)}).keypress(function(a){32===
a.keyCode&&b.call(this,d(a.target),c,e,l,g,f,m,n)})})}}}})});